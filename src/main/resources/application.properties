spring.application.name=demospring
spring.data.redis.url=${REDIS_URL}

# Netatmo Configuration
netatmo.client-id=${NETATMO_CLIENT_ID}
netatmo.client-secret=${NETATMO_CLIENT_SECRET}
app.redirect-uri=${REDIRECT_URI}
app.jwt-secret=${JWT_SECRET}

# DATABASE Configuration - PostgreSQL
spring.datasource.url=${DATABASE_URL:jdbc:postgresql://localhost:5432/demospring}
spring.datasource.username=${DB_USERNAME:demospring}
spring.datasource.password=${DB_PASSWORD:demospring123}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.types.print_banner=false

# Connection Pool Settings
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=900000
spring.datasource.hikari.keepalive-time=300000
spring.datasource.hikari.data-source-properties.stringtype=unspecified

# Virtual Threads
spring.threads.virtual.enabled=true

# Trading watcher & OCO configuration
trading.order-watcher.enabled=true
# Fractional offset used to set stopLimit below stopPrice (e.g., 0.005 = 0.5%)
trading.oco.stop-limit-offset=0.005

# Salesforce Configuration
salesforce.login-url=${SF_LOGIN_URL}
salesforce.client-id=${SF_CLIENT_ID}
salesforce.username=${SF_USERNAME}
salesforce.session-timeout=${SF_SESSION_TIMEOUT}
salesforce.connector-name=${SF_CONNECTOR_NAME}

# Slack Configuration
slack.bot-token=${SLACK_BOT_TOKEN:}
slack.app-token=${SLACK_APP_TOKEN:}
slack.channel-id=${SLACK_CHANNEL_ID:}
slack.channel-name=${SLACK_CHANNEL_NAME:}
slack.enabled=${SLACK_ENABLED:false}
slack.auto-create-channel=${SLACK_AUTO_CREATE_CHANNEL:true}
slack.socket-mode.enabled=${SLACK_SOCKET_MODE:false}

# OpenAI Configuration (pointing to xAI Grok)
spring.ai.openai.api-key=${XAI_API_KEY}
spring.ai.openai.base-url=https://api.x.ai
# Valid Grok models: grok-4 (reasoning model), grok-2-1212 (fast), grok-2-latest (alias)
spring.ai.openai.chat.options.model=${XAI_MODEL:grok-4-1-fast-reasoning}
spring.ai.openai.chat.options.temperature=0.1

# Enable debug logging for Spring AI and HTTP requests
logging.level.org.springframework.ai.openai=DEBUG
logging.level.org.springframework.web.client.RestClient=DEBUG
logging.level.org.springframework.ai.openai.api=TRACE
logging.level.org.springframework.http.client=DEBUG

# Flex tier: 50% cost savings but 10-60s latency. Only works with gpt-4o/gpt-5, not gpt-4o-mini
openai.flex.enabled=${OPENAI_FLEX_ENABLED:false}

# Binance API Configuration
# Set TRADING_MODE=testnet or TRADING_MODE=production in .env
trading.mode=${TRADING_MODE:testnet}

# Testnet credentials
binance.testnet.api-key=${BINANCE_TESTNET_API_KEY:}
binance.testnet.api-secret=${BINANCE_TESTNET_API_SECRET:}

# Production credentials
binance.production.api-key=${BINANCE_PRODUCTION_API_KEY:}
binance.production.api-secret=${BINANCE_PRODUCTION_API_SECRET:}

# Legacy properties (deprecated, use trading.mode instead)
binance.api-key=${BINANCE_API_KEY:}
binance.api-secret=${BINANCE_API_SECRET:}
binance.testnet=${BINANCE_TESTNET:true}